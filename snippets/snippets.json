{
  "antdTable": {
    "prefix": "antdtable",
    "body": "import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table, message } from 'antd';\nimport ajax from '@alipay/kb-ajax';  // TODO: decide ajax module\n\nexport default class ${1:MyTable} extends React.Component {\n\tstatic propTypes = {\n\t\tparams: PropTypes.shape({\n\t\t\t// TODO: complete param definition\n\t\t}),\n\t}\n\n\tstate = {\n\t\tdata: [],\n\t\tloading: false,\n\t\tpagination: {\n\t\t\tcurrent: 1,\n\t\t\tpageSize: 10,\n\t\t},\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.onTableChange(this.state.pagination);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.params !== prevProps.params) {\n\t\t\tconst { pageSize } = this.state.pagination;\n\t\t\tthis.onTableChange({\n\t\t\t\tcurrent: 1,\n\t\t\t\tpageSize,\n\t\t\t});\n\t\t}\n\t}\n\n\tonTableChange = (pagination) => {\n\t\tthis.setState({\n\t\t\tpagination: {\n\t\t\t\t...this.state.pagination,\n\t\t\t\t...pagination,\n\t\t\t},\n\t\t});\n\t\tthis.fetch(pagination);\n\t}\n\n\tfetch = (pagination) => {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t});\n\t\tconst { current, pageSize } = pagination;\n\t\tajax({\n\t\t\turl: '',  // TODO: complete ajax request url\n\t\t\tmethod: 'get',\n\t\t\ttype: 'json',\n\t\t\tdata: {\n        // TODO: modify param names\n\t\t\t\tpageNo: current,\n\t\t\t\tpageSize,\n\t\t\t\t...this.props.params,\n\t\t\t},\n\t\t}).then((res) => {\n      // TODO: modify params names\n\t\t\tconst { data = [], page = {} } = res;\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tdata,\n\t\t\t\tpagination: {\n\t\t\t\t\t...this.state.pagination,\n\t\t\t\t\ttotal: page.totalSize,\n\t\t\t\t},\n\t\t\t});\n\t\t}).catch((err) => {\n      // TODO: handle request error\n\t\t\tmessage.error(err.resultMsg || '未知错误');\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tdata: [],\n\t\t\t});\n\t\t});\n\t}\n\n  // TODO: complete columns\n\tcolumns = [{\n\t\ttitle: '',\n\t\tdataIndex: '',\n\t\trender: (text, record, index) => text,\n\t}]\n\n\trender() {\n\t\tconst { data, pagination, loading } = this.state;\n\t\treturn (\n\t\t\t<Table\n\t\t\t\tcolumns={this.columns}\n\t\t\t\tdataSource={data}\n\t\t\t\tpagination={pagination}\n\t\t\t\tloading={loading}\n\t\t\t\tonChange={this.onTableChange}\n\t\t\t\trowKey={row => row.id/* TODO: decide row key */}\n\t\t\t/>\n\t\t);\n\t}\n}\n",
    "description": "Creates a AntD Table component class in ES6 syntax"
  },
  "antdSearchForm": {
    "prefix": "antdsearchform",
    "body": "import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Row, Col, Button, Input, Select } from 'antd';\n\nconst FormItem = Form.Item;\nconst Option = Select.Option;\n\nconst formItemLayout = {\n\tlabelCol: { span: 8 },\n\twrapperCol: { span: 16 },\n};\n\nconst buttonStyle = {\n\twidth: 80,\n\tmarginLeft: 15,\n};\n\nclass ${1:MySearchForm} extends React.Component {\n\tstatic propTypes = {\n\t\t// TODO: edit propTypes\n\t\tvoucherTypes: PropTypes.arrayOf(PropTypes.shape({\n\t\t\ttype: PropTypes.string,\n\t\t\tname: PropTypes.string,\n\t\t})),\n\t\tonSubmit: PropTypes.func,\n\t}\n\n\tonSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.props.form.validateFields((errors, values) => {\n\t\t\tif (!errors) {\n\t\t\t\tthis.props.onSubmit(values);\n\t\t\t}\n\t\t});\n\t}\n\n\tonReset = (e) => {\n\t\te.preventDefault();\n\t\tthis.props.form.resetFields();\n\t\tthis.prop.onSubmit(this.props.form.getFieldsValue());\n\t}\n\n\trender() {\n\t\tconst { getFieldProps } = this.props.form;\n\t\tconst { voucherTypes } = this.props;\n\t\treturn (\n\t\t\t<Form\n\t\t\t\thorizontal\n\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span=\"8\">\n\t\t\t\t\t\t<FormItem\n\t\t\t\t\t\t\tlabel=\"券名称：\"\n\t\t\t\t\t\t\t{...formItemLayout}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t{...getFieldProps('voucherName')}\n\t\t\t\t\t\t\t\tplaceholder=\"请输入券名称\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span=\"8\">\n\t\t\t\t\t\t<FormItem\n\t\t\t\t\t\t\tlabel=\"券类型：\"\n\t\t\t\t\t\t\t{...formItemLayout}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t{...getFieldProps('voucherType')}\n\t\t\t\t\t\t\t\tplaceholder=\"请选择券类型\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{voucherTypes.map(vt => (\n\t\t\t\t\t\t\t\t\t<Option key={vt.type} value={vt.type}>{vt.name}</Option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span=\"8\" offset=\"16\" style={{ textAlign: 'right' }}>\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\tsize=\"default\"\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\tstyle={buttonStyle}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t搜索\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"ghost\"\n\t\t\t\t\t\t\t\tsize=\"default\"\n\t\t\t\t\t\t\t\tonClick={this.onReset}\n\t\t\t\t\t\t\t\tstyle={buttonStyle}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t清除\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Form>\n\t\t);\n\t}\n}\n\nexport default Form.create()(${1:MySearchForm});\n"
  }
}
